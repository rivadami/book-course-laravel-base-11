{"version":3,"file":"Autocomplete.vue_vue_type_script_setup_true_lang-D7a3Rjfy.mjs","sources":["../../src/components/autocomplete/Autocomplete.vue"],"sourcesContent":["<script setup lang=\"ts\" generic=\"T extends String | Number | Object\">\nimport {\n    computed,\n    nextTick,\n    ref,\n    watch,\n    watchEffect,\n    useAttrs,\n    toRaw,\n    onMounted,\n    useSlots,\n    type PropType,\n    type Component,\n} from \"vue\";\n\nimport OInput from \"../input/Input.vue\";\nimport ODropdown from \"../dropdown/Dropdown.vue\";\nimport ODropdownItem from \"../dropdown/DropdownItem.vue\";\n\nimport { getOption } from \"@/utils/config\";\nimport { getValueByPath, uuid } from \"@/utils/helpers\";\nimport { isClient } from \"@/utils/ssr\";\nimport {\n    unrefElement,\n    defineClasses,\n    useInputHandler,\n    useDebounce,\n    useEventListener,\n} from \"@/composables\";\n\nimport type { ComponentClass, DynamicComponent, ClassBind } from \"@/types\";\n\nenum SpecialOption {\n    Header,\n    Footer,\n}\n\n/** True if the specified option is a special option. */\nfunction isSpecialOption(option: any): option is SpecialOption {\n    return option in SpecialOption;\n}\n\n/**\n * Extended input that provide suggestions while the user types\n * @displayName Autocomplete\n * @style _autocomplete.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OAutocomplete\",\n    configField: \"autocomplete\",\n    inheritAttrs: false,\n});\n\nconst props = defineProps({\n    /** Override existing theme classes completely */\n    override: { type: Boolean, default: undefined },\n    /** @model */\n    modelValue: { type: [String, Number], default: undefined },\n    /** Input type */\n    type: { type: String, default: \"text\" },\n    /** Menu tag name */\n    menuTag: {\n        type: [String, Object, Function] as PropType<DynamicComponent>,\n        default: () =>\n            getOption<DynamicComponent>(\"autocomplete.menuTag\", \"div\"),\n    },\n    /** Menu item tag name */\n    itemTag: {\n        type: [String, Object, Function] as PropType<DynamicComponent>,\n        default: () =>\n            getOption<DynamicComponent>(\"autocomplete.itemTag\", \"div\"),\n    },\n    /** Options / suggestions */\n    data: { type: Array as PropType<T[]>, default: () => [] },\n    /**\n     * Size of the control\n     * @values small, medium, large\n     */\n    size: {\n        type: String,\n        default: () => getOption(\"autocomplete.size\"),\n    },\n    /**\n     * Position of the dropdown\n     * @values auto, top, bottom\n     */\n    position: {\n        type: String,\n        default: () => getOption(\"autocomplete.position\", \"auto\"),\n        validator: (value: string) =>\n            [\"auto\", \"top\", \"bottom\"].indexOf(value) >= 0,\n    },\n    /** Property of the object (if data is array of objects) to use as display text, and to keep track of selected option */\n    field: { type: String, default: undefined },\n    /** Property of the object (if `data` is array of objects) to use as display text of group */\n    groupField: { type: String, default: undefined },\n    /** Property of the object (if `data` is array of objects) to use as key to get items array of each group */\n    groupOptions: { type: String, default: undefined },\n    /** Function to format an option to a string for display in the input (as alternative to field prop) */\n    formatter: {\n        type: Function as PropType<(value: unknown) => string | number>,\n        default: undefined,\n    },\n    /** Input placeholder */\n    placeholder: { type: String, default: undefined },\n    /** Makes input full width when inside a grouped or addon field */\n    expanded: { type: Boolean, default: false },\n    /** Makes the element rounded */\n    rounded: { type: Boolean, default: false },\n    /** Same as native input disabled */\n    disabled: { type: Boolean, default: false },\n    /** Same as native maxlength, plus character counter */\n    maxlength: { type: [String, Number], default: undefined },\n    /** Makes the component check if list reached scroll start or end and emit scroll events. */\n    checkScroll: {\n        type: Boolean,\n        default: () => getOption(\"autocomplete.checkScroll\", false),\n    },\n    /** Number of milliseconds to delay before to emit input event */\n    debounce: {\n        type: Number,\n        default: () => getOption(\"autocomplete.debounce\", 400),\n    },\n    /** The first option will always be pre-selected (easier to just hit enter or tab) */\n    keepFirst: {\n        type: Boolean,\n        default: () => getOption(\"autocomplete.keepFirst\", false),\n    },\n    /** Clear input text on select */\n    clearOnSelect: {\n        type: Boolean,\n        default: () => getOption(\"autocomplete.clearOnSelect\", false),\n    },\n    /** Open dropdown list on focus */\n    openOnFocus: {\n        type: Boolean,\n        default: () => getOption(\"autocomplete.openOnFocus\", false),\n    },\n    /** Keep open dropdown list after select */\n    keepOpen: {\n        type: Boolean,\n        default: () => getOption(\"autocomplete.keepOpen\", false),\n    },\n    /** Max height of dropdown content */\n    maxHeight: {\n        type: [String, Number],\n        default: () => getOption(\"autocomplete.maxHeight\"),\n    },\n    /** Array of keys (https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values) which will add a tag when typing (default tab and enter) */\n    confirmKeys: {\n        type: Array as PropType<string[]>,\n        default: () => getOption(\"autocomplete.confirmKeys\", [\"Tab\", \"Enter\"]),\n    },\n    /** Dropdown content (items) are shown into a modal on mobile */\n    mobileModal: {\n        type: Boolean,\n        default: () => getOption(\"autocomplete.mobileModal\", false),\n    },\n    /** Transition name to apply on dropdown list */\n    animation: {\n        type: String,\n        default: () => getOption(\"autocomplete.animation\", \"fade\"),\n    },\n    /** Trigger the select event for the first pre-selected option when clicking outside and `keep-first` is enabled */\n    selectOnClickOutside: { type: Boolean, default: false },\n    /** Allows the header in the autocomplete to be selectable */\n    selectableHeader: { type: Boolean, default: false },\n    /** Allows the footer in the autocomplete to be selectable */\n    selectableFooter: { type: Boolean, default: false },\n    /**\n     * Icon pack to use\n     * @values mdi, fa, fas and any other custom icon pack\n     */\n    iconPack: {\n        type: String,\n        default: () => getOption(\"autocomplete.iconPack\", undefined),\n    },\n    /** Icon to be shown */\n    icon: {\n        type: String,\n        default: () => getOption(\"autocomplete.icon\", undefined),\n    },\n    /** Makes the icon clickable */\n    iconClickable: { type: Boolean, default: false },\n    /** Icon to be added on the right side */\n    iconRight: {\n        type: String,\n        default: () => getOption(\"autocomplete.iconRight\", undefined),\n    },\n    /** Make the icon right clickable */\n    iconRightClickable: { type: Boolean, default: false },\n    /** Variant of right icon */\n    iconRightVariant: { type: String, default: undefined },\n    /** Add a button/icon to clear the inputed text */\n    clearable: {\n        type: Boolean,\n        default: () => getOption(\"autocomplete.clearable\", false),\n    },\n    /** Icon name to be added on the clear button */\n    clearIcon: {\n        type: String,\n        default: () => getOption(\"autocomplete.clearIcon\", \"close-circle\"),\n    },\n    /** Show status icon using field and variant prop */\n    statusIcon: {\n        type: Boolean,\n        default: () => getOption(\"statusIcon\", true),\n    },\n    /** Native options to use in HTML5 validation */\n    autocomplete: {\n        type: String,\n        default: () => getOption(\"autocomplete.autocomplete\", \"off\"),\n    },\n    /** Enable html 5 native validation */\n    useHtml5Validation: {\n        type: Boolean,\n        default: () => getOption(\"useHtml5Validation\", true),\n    },\n    /** The message which is shown when a validation error occurs */\n    validationMessage: { type: String, default: undefined },\n    /**\n     * Append the component to another part of the DOM.\n     * Set `true` to append the component to the body.\n     * In addition, any CSS selector string or an actual DOM node can be used.\n     */\n    teleport: {\n        type: [Boolean, String, Object],\n        default: () => getOption(\"autocomplete.teleport\", false),\n    },\n    // class props (will not be displayed in the docs)\n    /** Class of the root element */\n    rootClass: {\n        type: [String, Array, Function] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /** Class of the menu items */\n    itemClass: {\n        type: [String, Array, Function] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /** Class of the menu items on hover */\n    itemHoverClass: {\n        type: [String, Array, Function] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /** Class of the menu items group title */\n    itemGroupTitleClass: {\n        type: [String, Array, Function] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /** Class of the menu empty placeholder item */\n    itemEmptyClass: {\n        type: [String, Array, Function] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /** Class of the menu header item */\n    itemHeaderClass: {\n        type: [String, Array, Function] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /** Class of the menu footer item */\n    itemFooterClass: {\n        type: [String, Array, Function] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /**\n     * Classes to apply on internal input component\n     * @ignore\n     */\n    inputClasses: {\n        type: Object,\n        default: () => getOption(\"autocomplete.inputClasses\", {}),\n    },\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {string | number} updated modelValue prop\n     */\n    (e: \"update:modelValue\", value: string | number): void;\n    /**\n     * on input change event\n     * @param value {string | number} input value\n     */\n    (e: \"input\", value: string | number): void;\n    /**\n     * selected element changed event\n     * @param value {string | number | object} selected value\n     */\n    (e: \"select\", value: T, evt: Event): void;\n    /**\n     * header is selected\n     * @param event {Event} native event\n     */\n    (e: \"select-header\", event: Event): void;\n    /**\n     * footer is selected\n     * @param event {Event} native event\n     */\n    (e: \"select-footer\", event: Event): void;\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    (e: \"focus\", event: Event): void;\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    (e: \"blur\", event: Event): void;\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    (e: \"invalid\", event: Event): void;\n    /**\n     * on icon click event\n     * @param event {Event} native event\n     */\n    (e: \"icon-click\", event: Event): void;\n    /**\n     * on icon right click event\n     * @param event {Event} native event\n     */\n    (e: \"icon-right-click\", event: Event): void;\n    /** the list inside the dropdown reached the start */\n    (e: \"scroll-start\"): void;\n    /** the list inside the dropdown reached it's end */\n    (e: \"scroll-end\"): void;\n}>();\n\nconst slots = useSlots();\nconst inputRef = ref<InstanceType<typeof OInput>>();\nconst dropdownRef = ref<InstanceType<typeof ODropdown>>();\nconst footerRef = ref<HTMLElement>();\nconst headerRef = ref<HTMLElement>();\nconst itemRefs = ref([]);\n\nfunction setItemRef(\n    el: HTMLElement | Component,\n    groupIndex: number,\n    itemIndex: number,\n): void {\n    if (groupIndex === 0 && itemIndex === 0) itemRefs.value.splice(0);\n    if (el) itemRefs.value.push(el);\n}\n\n// use form input functionalities\nconst { checkHtml5Validity, onInvalid, onFocus, onBlur, isFocused, setFocus } =\n    useInputHandler(inputRef, emits, props);\n\nconst vmodel = defineModel<string | number>({ default: undefined });\n\nconst isActive = ref(false);\n\nconst selectedOption = ref<T>();\nconst hoveredOption = ref<T>();\nconst headerHovered = ref(false);\nconst footerHovered = ref(false);\n\nconst hoveredId = ref(null);\nconst menuId = uuid();\n\n/**\n * When updating input's value\n *   1. If value isn't the same as selected, set null\n *   2. Close dropdown if value is clear or else open it\n */\nwatch(\n    () => vmodel.value,\n    (value) => {\n        // Check if selected is invalid\n        const currentValue = getValue(selectedOption.value);\n        if (currentValue && currentValue !== value) setSelected(null, false);\n\n        nextTick(() => {\n            // Close dropdown if data is empty\n            if (isEmpty.value && !slots.empty) isActive.value = false;\n            // Close dropdown if input is clear or else open it\n            else if (isFocused.value && (!props.openOnFocus || value))\n                isActive.value = !!value;\n        });\n    },\n);\n\n/** Select first option if \"keep-first\" */\nwatch(\n    () => props.data,\n    () => {\n        // Keep first option always pre-selected\n        if (props.keepFirst) {\n            nextTick(() => {\n                if (isActive.value) selectFirstOption();\n                else setHovered(null);\n            });\n        } else if (hoveredOption.value) {\n            // reset hovered if list doesn't contain it\n            const hoveredValue = getValue(hoveredOption.value);\n            const data = computedData.value\n                .map((d) => d.items)\n                .reduce((a, b) => [...a, ...b], []);\n            const index = data.findIndex((d) => getValue(d) === hoveredValue);\n            if (index >= 0) nextTick(() => setHoveredIdToIndex(index));\n            else setHovered(null);\n        }\n    },\n);\n\nconst computedData = computed<{ items: any; group?: any }[]>(() => {\n    if (props.groupField) {\n        if (props.groupOptions)\n            return props.data.map((option) => {\n                const group = getValueByPath(option, props.groupField);\n                const items = getValueByPath(option, props.groupOptions);\n                return { group, items };\n            });\n        else\n            return Object.keys(props.data).map((group) => ({\n                group,\n                items: props.data[group],\n            }));\n    }\n    // Return no data to avoid the full list to be shown when clearing input\n    if (!props.openOnFocus && !props.keepOpen && vmodel.value === \"\") {\n        // ...already returned nothing and dropdown closed.\n        return [{ items: [] }];\n    }\n    return [{ items: props.data }];\n});\n\nconst isEmpty = computed(\n    () =>\n        !computedData.value?.some(\n            (element) => element.items && element.items.length,\n        ),\n);\n\nwatch(isEmpty, (empty) => {\n    if (isFocused.value) isActive.value = !empty || !!slots.empty;\n});\n\nconst closeableOptions = computed(() => {\n    const options = [\"escape\"];\n    if (!props.keepOpen) {\n        options.push(\"content\");\n        options.push(\"outside\");\n    }\n    return options;\n});\n\nfunction onDropdownClose(method: string): void {\n    if (method === \"outside\") {\n        if (\n            props.keepFirst &&\n            hoveredOption.value &&\n            props.selectOnClickOutside\n        )\n            setSelected(hoveredOption.value, true);\n    }\n}\n\n/**\n * Return display text for a input option.\n * If object, get value from path based on given field, or else just the value.\n * Apply a formatter function to the label if given.\n */\nfunction getValue(option: T): string {\n    if (!option) return \"\";\n\n    const property =\n        props.field && typeof option === \"object\"\n            ? getValueByPath(option, props.field)\n            : option;\n\n    const label =\n        typeof props.formatter === \"function\"\n            ? props.formatter(property)\n            : property;\n\n    return label || \"\";\n}\n\n/** Set which option is currently hovered. */\nfunction setHovered(option: T | SpecialOption): void {\n    if (option === undefined) return;\n    hoveredOption.value = isSpecialOption(option) ? null : option;\n    headerHovered.value = option === SpecialOption.Header;\n    footerHovered.value = option === SpecialOption.Footer;\n    hoveredId.value = null;\n}\n\n/** Set which option is the aria-activedescendant by index. */\nfunction setHoveredIdToIndex(index: number): void {\n    const element = unrefElement(itemRefs.value[index]);\n    hoveredId.value = element ? element.id : null;\n}\n\n/**\n * Set which option is currently selected, update v-model,\n * update input value and close dropdown.\n */\nfunction setSelected(option: T, closeDropdown = true, event = undefined): void {\n    if (option === undefined) return;\n    selectedOption.value = option;\n    emits(\"select\", selectedOption.value, event);\n    if (selectedOption.value !== null) {\n        if (props.clearOnSelect) {\n            const input = inputRef.value.$el.querySelector(\"input\");\n            input.value = \"\";\n        } else {\n            vmodel.value = getValue(selectedOption.value);\n        }\n        setHovered(null);\n    }\n    if (closeDropdown) nextTick(() => (isActive.value = false));\n    checkHtml5Validity();\n}\n\n/** Select first option */\nfunction selectFirstOption(): void {\n    nextTick(() => {\n        const nonEmptyElements = computedData.value.filter(\n            (element) => element.items && element.items.length,\n        );\n        if (nonEmptyElements.length) {\n            const option = nonEmptyElements[0].items[0];\n            setHovered(option);\n            setHoveredIdToIndex(0);\n        } else {\n            setHovered(null);\n        }\n    });\n}\n\n/** Check if header or footer was selected. */\nfunction selectHeaderOrFooterByClick(\n    event: Event,\n    origin?: SpecialOption,\n    closeDropdown = true,\n): void {\n    if (\n        props.selectableHeader &&\n        (headerHovered.value || origin === SpecialOption.Header)\n    ) {\n        emits(\"select-header\", event);\n        if (origin) setHovered(null);\n        if (closeDropdown) isActive.value = false;\n    }\n    if (\n        props.selectableFooter &&\n        (footerHovered.value || origin === SpecialOption.Footer)\n    ) {\n        emits(\"select-footer\", event);\n        if (origin) setHovered(null);\n        if (closeDropdown) isActive.value = false;\n    }\n}\n\n// --- Event Handler ---\n\n/**\n * Arrows keys listener.\n * If dropdown is active, set hovered option, or else just open.\n */\nfunction navigateItem(direction: 1 | -1): void {\n    if (!isActive.value) {\n        isActive.value = true;\n        return;\n    }\n\n    const data = computedData.value\n        .map((d) => d.items)\n        .reduce((a, b) => [...a, ...b], []);\n\n    // add header / footer if selectable\n    if (headerRef.value && props.selectableHeader) data.unshift(undefined);\n    if (footerRef.value && props.selectableFooter) data.push(undefined);\n\n    // define current index\n    let index = data.map(toRaw).indexOf(toRaw(hoveredOption.value));\n    if (headerHovered.value) index = 0 + direction;\n    else if (footerHovered.value) index = data.length - 1 + direction;\n    else index = index + direction;\n\n    // check if index overflow\n    index = index > data.length - 1 ? data.length - 1 : index;\n    // check if index underflow\n    index = index < 0 ? 0 : index;\n\n    // set hover state\n    if (footerRef.value && props.selectableFooter && index === data.length - 1)\n        setHovered(SpecialOption.Footer);\n    else if (headerRef.value && props.selectableHeader && index === 0)\n        setHovered(SpecialOption.Header);\n    else setHovered(data[index] !== undefined ? data[index] : null);\n\n    // get items from input\n    let items = itemRefs.value || [];\n    if (headerRef.value && props.selectableHeader)\n        items = [headerRef.value, ...items];\n    if (footerRef.value && props.selectableFooter)\n        items = [...items, footerRef.value];\n\n    const element = unrefElement(items[index]);\n    if (!element) return;\n\n    // set aria-activedescendant\n    hoveredId.value = element.id;\n\n    // define scroll position\n    const dropdownMenu = unrefElement(dropdownRef.value.$content);\n    const visMin = dropdownMenu.scrollTop;\n    const visMax =\n        dropdownMenu.scrollTop +\n        dropdownMenu.clientHeight -\n        element.clientHeight;\n\n    if (element.offsetTop < visMin) {\n        // is scolled top\n        dropdownMenu.scrollTop = element.offsetTop;\n    } else if (element.offsetTop >= visMax) {\n        // is scolled bottom\n        dropdownMenu.scrollTop =\n            element.offsetTop -\n            dropdownMenu.clientHeight +\n            element.clientHeight;\n    }\n    // trigger scroll\n    if (props.checkScroll) checkDropdownScroll();\n}\n\n/**\n * Key listener.\n * Select the hovered option.\n */\nfunction onKeydown(event: KeyboardEvent): void {\n    // prevent emit submit event\n    if (event.key === \"Enter\") event.preventDefault();\n    if (props.confirmKeys.indexOf(event.key) >= 0) {\n        // If adding by comma, don't add the comma to the input\n        if (event.key === \",\") event.preventDefault();\n        // Close dropdown on select by Tab\n        const closeDropdown = !props.keepOpen || event.key === \"Tab\";\n        if (hoveredOption.value === null) {\n            // header and footer uses headerHovered && footerHovered. If header or footer\n            // was selected then fire event otherwise just return so a value isn't selected\n            selectHeaderOrFooterByClick(event, null, closeDropdown);\n            return;\n        }\n        setSelected(hoveredOption.value, closeDropdown, event);\n    }\n}\n\n/**\n * Focus listener.\n * If value is the same as selected, select all text.\n */\nfunction handleFocus(event: Event): void {\n    if (getValue(selectedOption.value) === vmodel.value) {\n        inputRef.value.$el.querySelector(\"input\").select();\n    }\n    if (props.openOnFocus) {\n        isActive.value = true;\n        if (props.keepFirst)\n            // If open on focus, update the hovered\n            selectFirstOption();\n    }\n    onFocus(event);\n}\n\n/**\n * Blur listener.\n * Close on blur.\n */\nfunction handleBlur(event: Event): void {\n    onBlur(event);\n}\n\n/** emit input change event */\nfunction onInput(value: string | number): void {\n    const currentValue = getValue(selectedOption.value);\n    if (currentValue && currentValue === vmodel.value) return;\n    debouncedInput(value);\n}\n\nlet debouncedInput = useDebounce(emitInput, props.debounce || 0);\n\nwatchEffect(() => {\n    debouncedInput = useDebounce(emitInput, props.debounce);\n});\n\nfunction emitInput(value: string | number): void {\n    emits(\"input\", value);\n    checkHtml5Validity();\n}\n\n// --- Icon Feature ---\n\nconst computedIconRight = computed(() =>\n    props.clearable && vmodel.value && props.clearIcon\n        ? props.clearIcon\n        : props.iconRight,\n);\n\nconst computedIconRightClickable = computed(() =>\n    props.clearable ? true : props.iconRightClickable,\n);\n\nfunction rightIconClick(event: Event): void {\n    if (props.clearable) {\n        vmodel.value = \"\";\n        setSelected(null, false);\n        if (props.openOnFocus) setFocus();\n    } else emits(\"icon-right-click\", event);\n}\n\n// --- InfitiveScroll Feature ---\n\nonMounted(() => {\n    if (isClient && props.checkScroll)\n        useEventListener(\n            \"scroll\",\n            checkDropdownScroll,\n            dropdownRef.value.$content,\n            { immediate: true },\n        );\n});\n\n/** Check if the scroll list inside the dropdown reached the top or it's end. */\nfunction checkDropdownScroll(): void {\n    const dropdown = unrefElement(dropdownRef.value.$content);\n    if (!dropdown) return;\n    const trashhold = dropdown.offsetTop;\n    const headerHeight = headerRef.value?.clientHeight || 0;\n    const footerHeight = (footerRef.value?.clientHeight || 0) + trashhold;\n    if (dropdown.clientHeight !== dropdown.scrollHeight) {\n        if (\n            dropdown.scrollTop + dropdown.clientHeight + footerHeight >=\n            dropdown.scrollHeight\n        ) {\n            emits(\"scroll-end\");\n        } else if (dropdown.scrollTop <= headerHeight) {\n            emits(\"scroll-start\");\n        }\n    }\n}\n\n// --- Computed Component Classes ---\n\nconst attrs = useAttrs();\nconst inputBind = computed(() => ({\n    ...attrs,\n    ...props.inputClasses,\n}));\n\nconst rootClasses = defineClasses([\"rootClass\", \"o-acp\"]);\n\nconst itemClasses = defineClasses([\"itemClass\", \"o-acp__item\"]);\n\nconst itemEmptyClasses = defineClasses([\n    \"itemEmptyClass\",\n    \"o-acp__item--empty\",\n]);\n\nconst itemGroupClasses = defineClasses([\n    \"itemGroupTitleClass\",\n    \"o-acp__item-group-title\",\n]);\n\nconst itemHeaderClasses = defineClasses(\n    [\"itemHeaderClass\", \"o-acp__item-header\"],\n    [\"itemHoverClass\", \"o-acp__item--hover\", null, headerHovered],\n);\n\nconst itemFooterClasses = defineClasses(\n    [\"itemFooterClass\", \"o-acp__item-footer\"],\n    [\"itemHoverClass\", \"o-acp__item--hover\", null, footerHovered],\n);\n\nfunction itemOptionClasses(option): ClassBind[] {\n    const optionClasses = defineClasses([\n        \"itemHoverClass\",\n        \"o-acp__item--hover\",\n        null,\n        toRaw(option) === toRaw(hoveredOption.value),\n    ]);\n\n    return [...itemClasses.value, ...optionClasses.value];\n}\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus });\n</script>\n\n<template>\n    <o-dropdown\n        ref=\"dropdownRef\"\n        v-model=\"selectedOption\"\n        v-model:active=\"isActive\"\n        data-oruga=\"autocomplete\"\n        :class=\"rootClasses\"\n        :menu-id=\"menuId\"\n        :menu-tabindex=\"-1\"\n        :menu-tag=\"menuTag\"\n        scrollable\n        aria-role=\"listbox\"\n        :tabindex=\"-1\"\n        :trap-focus=\"false\"\n        :triggers=\"[]\"\n        :disabled=\"disabled\"\n        :closeable=\"closeableOptions\"\n        :mobile-modal=\"mobileModal\"\n        :max-height=\"maxHeight\"\n        :animation=\"animation\"\n        :position=\"position\"\n        :teleport=\"teleport\"\n        :expanded=\"expanded\"\n        @close=\"onDropdownClose\">\n        <template #trigger>\n            <o-input\n                ref=\"inputRef\"\n                v-bind=\"inputBind\"\n                v-model=\"vmodel\"\n                :type=\"type\"\n                :size=\"size\"\n                :rounded=\"rounded\"\n                :icon=\"icon\"\n                :icon-right=\"computedIconRight\"\n                :icon-right-clickable=\"computedIconRightClickable\"\n                :icon-pack=\"iconPack\"\n                :placeholder=\"placeholder\"\n                :maxlength=\"maxlength\"\n                :autocomplete=\"autocomplete\"\n                :use-html5-validation=\"false\"\n                role=\"combobox\"\n                :aria-activedescendant=\"hoveredId\"\n                :aria-autocomplete=\"keepFirst ? 'both' : 'list'\"\n                :aria-controls=\"menuId\"\n                :aria-expanded=\"isActive\"\n                :expanded=\"expanded\"\n                :disabled=\"disabled\"\n                :status-icon=\"statusIcon\"\n                @update:model-value=\"onInput\"\n                @focus=\"handleFocus\"\n                @blur=\"handleBlur\"\n                @invalid=\"onInvalid\"\n                @keydown=\"onKeydown\"\n                @keydown.up.prevent=\"navigateItem(-1)\"\n                @keydown.down.prevent=\"navigateItem(1)\"\n                @icon-click=\"(event) => $emit('icon-click', event)\"\n                @icon-right-click=\"rightIconClick\" />\n        </template>\n\n        <o-dropdown-item\n            v-if=\"$slots.header\"\n            :id=\"`${menuId}-header`\"\n            ref=\"headerRef\"\n            :tag=\"itemTag\"\n            aria-role=\"option\"\n            :aria-selected=\"headerHovered\"\n            :tabindex=\"-1\"\n            :class=\"[...itemClasses, ...itemHeaderClasses]\"\n            @click=\"\n                (v, e) => selectHeaderOrFooterByClick(e, SpecialOption.Header)\n            \">\n            <!--\n                @slot Define an additional header\n            -->\n            <slot name=\"header\" />\n        </o-dropdown-item>\n\n        <template v-for=\"(element, groupindex) in computedData\">\n            <o-dropdown-item\n                v-if=\"element.group\"\n                :key=\"groupindex + 'group'\"\n                :tag=\"itemTag\"\n                :tabindex=\"-1\"\n                :class=\"[...itemClasses, ...itemGroupClasses]\">\n                <!--\n                    @slot Override the option grpup\n                    @binding {object} group - options group\n                    @binding {number} index - option index\n                -->\n                <slot\n                    v-if=\"$slots.group\"\n                    name=\"group\"\n                    :group=\"element.group\"\n                    :index=\"groupindex\" />\n                <span v-else>\n                    {{ element.group }}\n                </span>\n            </o-dropdown-item>\n\n            <o-dropdown-item\n                v-for=\"(option, index) in element.items\"\n                :id=\"`${menuId}-${groupindex}-${index}`\"\n                :key=\"groupindex + ':' + index\"\n                :ref=\"(el) => setItemRef(el, groupindex, index)\"\n                :value=\"option\"\n                :tag=\"itemTag\"\n                :class=\"itemOptionClasses(option)\"\n                aria-role=\"option\"\n                :aria-selected=\"toRaw(option) === toRaw(hoveredOption)\"\n                :tabindex=\"-1\"\n                @click=\"\n                    (value, event) => setSelected(value as T, !keepOpen, event)\n                \">\n                <!--\n                    @slot Override the select option\n                    @binding {object} option - option object\n                    @binding {number} index - option index\n                    @binding {unknown} value - option value\n                -->\n                <slot\n                    v-if=\"$slots.default\"\n                    :option=\"option\"\n                    :value=\"getValue(option)\"\n                    :index=\"index\" />\n                <span v-else>\n                    {{ getValue(option) }}\n                </span>\n            </o-dropdown-item>\n        </template>\n\n        <o-dropdown-item\n            v-if=\"isEmpty && $slots.empty\"\n            :tag=\"itemTag\"\n            :class=\"[...itemClasses, ...itemEmptyClasses]\">\n            <!--\n                @slot Define content for empty state\n            -->\n            <slot name=\"empty\" />\n        </o-dropdown-item>\n\n        <o-dropdown-item\n            v-if=\"$slots.footer\"\n            :id=\"`${menuId}-footer`\"\n            ref=\"footerRef\"\n            :tag=\"itemTag\"\n            aria-role=\"option\"\n            :aria-selected=\"footerHovered\"\n            :tabindex=\"-1\"\n            :class=\"[...itemClasses, ...itemFooterClasses]\"\n            @click=\"\n                (v, e) => selectHeaderOrFooterByClick(e, SpecialOption.Footer)\n            \">\n            <!--\n                @slot Define an additional footer\n            -->\n            <slot name=\"footer\" />\n        </o-dropdown-item>\n    </o-dropdown>\n</template>\n"],"names":["SpecialOption","_useModel"],"mappings":";;;;;;;;;;;;;;AAgCA,IAAK,kCAAAA,mBAAL;AACIA,iBAAA,eAAA,QAAA,IAAA,CAAA,IAAA;AACAA,iBAAA,eAAA,QAAA,IAAA,CAAA,IAAA;AAFCA,SAAAA;AAAA,GAAA,iBAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAML,aAAS,gBAAgB,QAAsC;AAC3D,aAAO,UAAU;AAAA,IACrB;AAcA,UAAM,QAAQ;AA8Nd,UAAM,QAAQ;AAyDd,UAAM,QAAQ;AACd,UAAM,WAAW;AACjB,UAAM,cAAc;AACpB,UAAM,YAAY;AAClB,UAAM,YAAY;AACZ,UAAA,WAAW,IAAI,CAAA,CAAE;AAEd,aAAA,WACL,IACA,YACA,WACI;AACA,UAAA,eAAe,KAAK,cAAc;AAAY,iBAAA,MAAM,OAAO,CAAC;AAC5D,UAAA;AAAa,iBAAA,MAAM,KAAK,EAAE;AAAA,IAClC;AAGM,UAAA,EAAE,oBAAoB,WAAW,SAAS,QAAQ,WAAW,SAAA,IAC/D,gBAAgB,UAAU,OAAO,KAAK;AAEpC,UAAA,SAASC,SAA4B,SAAA,YAAuB;AAE5D,UAAA,WAAW,IAAI,KAAK;AAE1B,UAAM,iBAAiB;AACvB,UAAM,gBAAgB;AAChB,UAAA,gBAAgB,IAAI,KAAK;AACzB,UAAA,gBAAgB,IAAI,KAAK;AAEzB,UAAA,YAAY,IAAI,IAAI;AAC1B,UAAM,SAAS;AAOf;AAAA,MACI,MAAM,OAAO;AAAA,MACb,CAAC,UAAU;AAED,cAAA,eAAe,SAAS,eAAe,KAAK;AAClD,YAAI,gBAAgB,iBAAiB;AAAO,sBAAY,MAAM,KAAK;AAEnE,iBAAS,MAAM;AAEP,cAAA,QAAQ,SAAS,CAAC,MAAM;AAAO,qBAAS,QAAQ;AAAA,mBAE3C,UAAU,UAAU,CAAC,MAAM,eAAe;AACtC,qBAAA,QAAQ,CAAC,CAAC;AAAA,QAAA,CAC1B;AAAA,MACL;AAAA,IAAA;AAIJ;AAAA,MACI,MAAM,MAAM;AAAA,MACZ,MAAM;AAEF,YAAI,MAAM,WAAW;AACjB,mBAAS,MAAM;AACX,gBAAI,SAAS;AAAyB;;AACjC,yBAAW,IAAI;AAAA,UAAA,CACvB;AAAA,QAAA,WACM,cAAc,OAAO;AAEtB,gBAAA,eAAe,SAAS,cAAc,KAAK;AAC3C,gBAAA,OAAO,aAAa,MACrB,IAAI,CAAC,MAAM,EAAE,KAAK,EAClB,OAAO,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAA,CAAE;AAChC,gBAAA,QAAQ,KAAK,UAAU,CAAC,MAAM,SAAS,CAAC,MAAM,YAAY;AAChE,cAAI,SAAS;AAAY,qBAAA,MAAM,oBAAoB,KAAK,CAAC;AAAA;AACpD,uBAAW,IAAI;AAAA,QACxB;AAAA,MACJ;AAAA,IAAA;AAGE,UAAA,eAAe,SAAwC,MAAM;AAC/D,UAAI,MAAM,YAAY;AAClB,YAAI,MAAM;AACN,iBAAO,MAAM,KAAK,IAAI,CAAC,WAAW;AAC9B,kBAAM,QAAQ,eAAe,QAAQ,MAAM,UAAU;AACrD,kBAAM,QAAQ,eAAe,QAAQ,MAAM,YAAY;AAChD,mBAAA,EAAE,OAAO;UAAM,CACzB;AAAA;AAED,iBAAO,OAAO,KAAK,MAAM,IAAI,EAAE,IAAI,CAAC,WAAW;AAAA,YAC3C;AAAA,YACA,OAAO,MAAM,KAAK,KAAK;AAAA,UACzB,EAAA;AAAA,MACV;AAEI,UAAA,CAAC,MAAM,eAAe,CAAC,MAAM,YAAY,OAAO,UAAU,IAAI;AAE9D,eAAO,CAAC,EAAE,OAAO,IAAI;AAAA,MACzB;AACA,aAAO,CAAC,EAAE,OAAO,MAAM,KAAM,CAAA;AAAA,IAAA,CAChC;AAED,UAAM,UAAU;AAAA,MACZ;;AACI,kBAAC,kBAAa,UAAb,mBAAoB;AAAA,UACjB,CAAC,YAAY,QAAQ,SAAS,QAAQ,MAAM;AAAA;AAAA;AAAA,IAChD;AAGF,UAAA,SAAS,CAAC,UAAU;AACtB,UAAI,UAAU;AAAO,iBAAS,QAAQ,CAAC,SAAS,CAAC,CAAC,MAAM;AAAA,IAAA,CAC3D;AAEK,UAAA,mBAAmB,SAAS,MAAM;AAC9B,YAAA,UAAU,CAAC,QAAQ;AACrB,UAAA,CAAC,MAAM,UAAU;AACjB,gBAAQ,KAAK,SAAS;AACtB,gBAAQ,KAAK,SAAS;AAAA,MAC1B;AACO,aAAA;AAAA,IAAA,CACV;AAED,aAAS,gBAAgB,QAAsB;AAC3C,UAAI,WAAW,WAAW;AACtB,YACI,MAAM,aACN,cAAc,SACd,MAAM;AAEM,sBAAA,cAAc,OAAO,IAAI;AAAA,MAC7C;AAAA,IACJ;AAOA,aAAS,SAAS,QAAmB;AACjC,UAAI,CAAC;AAAe,eAAA;AAEd,YAAA,WACF,MAAM,SAAS,OAAO,WAAW,WAC3B,eAAe,QAAQ,MAAM,KAAK,IAClC;AAEJ,YAAA,QACF,OAAO,MAAM,cAAc,aACrB,MAAM,UAAU,QAAQ,IACxB;AAEV,aAAO,SAAS;AAAA,IACpB;AAGA,aAAS,WAAW,QAAiC;AACjD,UAAI,WAAW;AAAW;AAC1B,oBAAc,QAAQ,gBAAgB,MAAM,IAAI,OAAO;AACvD,oBAAc,QAAQ,WAAW;AACjC,oBAAc,QAAQ,WAAW;AACjC,gBAAU,QAAQ;AAAA,IACtB;AAGA,aAAS,oBAAoB,OAAqB;AAC9C,YAAM,UAAU,aAAa,SAAS,MAAM,KAAK,CAAC;AACxC,gBAAA,QAAQ,UAAU,QAAQ,KAAK;AAAA,IAC7C;AAMA,aAAS,YAAY,QAAW,gBAAgB,MAAM,QAAQ,QAAiB;AAC3E,UAAI,WAAW;AAAW;AAC1B,qBAAe,QAAQ;AACjB,YAAA,UAAU,eAAe,OAAO,KAAK;AACvC,UAAA,eAAe,UAAU,MAAM;AAC/B,YAAI,MAAM,eAAe;AACrB,gBAAM,QAAQ,SAAS,MAAM,IAAI,cAAc,OAAO;AACtD,gBAAM,QAAQ;AAAA,QAAA,OACX;AACI,iBAAA,QAAQ,SAAS,eAAe,KAAK;AAAA,QAChD;AACA,mBAAW,IAAI;AAAA,MACnB;AACI,UAAA;AAAwB,iBAAA,MAAO,SAAS,QAAQ,KAAM;AACvC;IACvB;AAGA,aAAS,oBAA0B;AAC/B,eAAS,MAAM;AACL,cAAA,mBAAmB,aAAa,MAAM;AAAA,UACxC,CAAC,YAAY,QAAQ,SAAS,QAAQ,MAAM;AAAA,QAAA;AAEhD,YAAI,iBAAiB,QAAQ;AACzB,gBAAM,SAAS,iBAAiB,CAAC,EAAE,MAAM,CAAC;AAC1C,qBAAW,MAAM;AACjB,8BAAoB,CAAC;AAAA,QAAA,OAClB;AACH,qBAAW,IAAI;AAAA,QACnB;AAAA,MAAA,CACH;AAAA,IACL;AAGA,aAAS,4BACL,OACA,QACA,gBAAgB,MACZ;AACJ,UACI,MAAM,qBACL,cAAc,SAAS,WAAW,IACrC;AACE,cAAM,iBAAiB,KAAK;AACxB,YAAA;AAAQ,qBAAW,IAAI;AACvB,YAAA;AAAe,mBAAS,QAAQ;AAAA,MACxC;AACA,UACI,MAAM,qBACL,cAAc,SAAS,WAAW,IACrC;AACE,cAAM,iBAAiB,KAAK;AACxB,YAAA;AAAQ,qBAAW,IAAI;AACvB,YAAA;AAAe,mBAAS,QAAQ;AAAA,MACxC;AAAA,IACJ;AAQA,aAAS,aAAa,WAAyB;AACvC,UAAA,CAAC,SAAS,OAAO;AACjB,iBAAS,QAAQ;AACjB;AAAA,MACJ;AAEM,YAAA,OAAO,aAAa,MACrB,IAAI,CAAC,MAAM,EAAE,KAAK,EAClB,OAAO,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAA,CAAE;AAGlC,UAAA,UAAU,SAAS,MAAM;AAAkB,aAAK,QAAQ,MAAS;AACjE,UAAA,UAAU,SAAS,MAAM;AAAkB,aAAK,KAAK,MAAS;AAG9D,UAAA,QAAQ,KAAK,IAAI,KAAK,EAAE,QAAQ,MAAM,cAAc,KAAK,CAAC;AAC9D,UAAI,cAAc;AAAO,gBAAQ,IAAI;AAAA,eAC5B,cAAc;AAAe,gBAAA,KAAK,SAAS,IAAI;AAAA;AACnD,gBAAQ,QAAQ;AAGrB,cAAQ,QAAQ,KAAK,SAAS,IAAI,KAAK,SAAS,IAAI;AAE5C,cAAA,QAAQ,IAAI,IAAI;AAGxB,UAAI,UAAU,SAAS,MAAM,oBAAoB,UAAU,KAAK,SAAS;AACrE;AAAA,UAAW;AAAA;AAAA,QAAoB;AAAA,eAC1B,UAAU,SAAS,MAAM,oBAAoB,UAAU;AAC5D;AAAA,UAAW;AAAA;AAAA,QAAoB;AAAA;AAC9B,mBAAW,KAAK,KAAK,MAAM,SAAY,KAAK,KAAK,IAAI,IAAI;AAG1D,UAAA,QAAQ,SAAS,SAAS;AAC1B,UAAA,UAAU,SAAS,MAAM;AACzB,gBAAQ,CAAC,UAAU,OAAO,GAAG,KAAK;AAClC,UAAA,UAAU,SAAS,MAAM;AACzB,gBAAQ,CAAC,GAAG,OAAO,UAAU,KAAK;AAEtC,YAAM,UAAU,aAAa,MAAM,KAAK,CAAC;AACzC,UAAI,CAAC;AAAS;AAGd,gBAAU,QAAQ,QAAQ;AAG1B,YAAM,eAAe,aAAa,YAAY,MAAM,QAAQ;AAC5D,YAAM,SAAS,aAAa;AAC5B,YAAM,SACF,aAAa,YACb,aAAa,eACb,QAAQ;AAER,UAAA,QAAQ,YAAY,QAAQ;AAE5B,qBAAa,YAAY,QAAQ;AAAA,MAAA,WAC1B,QAAQ,aAAa,QAAQ;AAEpC,qBAAa,YACT,QAAQ,YACR,aAAa,eACb,QAAQ;AAAA,MAChB;AAEA,UAAI,MAAM;AAAiC;IAC/C;AAMA,aAAS,UAAU,OAA4B;AAE3C,UAAI,MAAM,QAAQ;AAAS,cAAM,eAAe;AAChD,UAAI,MAAM,YAAY,QAAQ,MAAM,GAAG,KAAK,GAAG;AAE3C,YAAI,MAAM,QAAQ;AAAK,gBAAM,eAAe;AAE5C,cAAM,gBAAgB,CAAC,MAAM,YAAY,MAAM,QAAQ;AACnD,YAAA,cAAc,UAAU,MAAM;AAGF,sCAAA,OAAO,MAAM,aAAa;AACtD;AAAA,QACJ;AACY,oBAAA,cAAc,OAAO,eAAe,KAAK;AAAA,MACzD;AAAA,IACJ;AAMA,aAAS,YAAY,OAAoB;AACrC,UAAI,SAAS,eAAe,KAAK,MAAM,OAAO,OAAO;AACjD,iBAAS,MAAM,IAAI,cAAc,OAAO,EAAE;MAC9C;AACA,UAAI,MAAM,aAAa;AACnB,iBAAS,QAAQ;AACjB,YAAI,MAAM;AAEY;MAC1B;AACA,cAAQ,KAAK;AAAA,IACjB;AAMA,aAAS,WAAW,OAAoB;AACpC,aAAO,KAAK;AAAA,IAChB;AAGA,aAAS,QAAQ,OAA8B;AACrC,YAAA,eAAe,SAAS,eAAe,KAAK;AAC9C,UAAA,gBAAgB,iBAAiB,OAAO;AAAO;AACnD,qBAAe,KAAK;AAAA,IACxB;AAEA,QAAI,iBAAiB,YAAY,WAAW,MAAM,YAAY,CAAC;AAE/D,gBAAY,MAAM;AACG,uBAAA,YAAY,WAAW,MAAM,QAAQ;AAAA,IAAA,CACzD;AAED,aAAS,UAAU,OAA8B;AAC7C,YAAM,SAAS,KAAK;AACD;IACvB;AAIA,UAAM,oBAAoB;AAAA,MAAS,MAC/B,MAAM,aAAa,OAAO,SAAS,MAAM,YACnC,MAAM,YACN,MAAM;AAAA,IAAA;AAGhB,UAAM,6BAA6B;AAAA,MAAS,MACxC,MAAM,YAAY,OAAO,MAAM;AAAA,IAAA;AAGnC,aAAS,eAAe,OAAoB;AACxC,UAAI,MAAM,WAAW;AACjB,eAAO,QAAQ;AACf,oBAAY,MAAM,KAAK;AACvB,YAAI,MAAM;AAAsB;MACpC;AAAO,cAAM,oBAAoB,KAAK;AAAA,IAC1C;AAIA,cAAU,MAAM;AACZ,UAAI,YAAY,MAAM;AAClB;AAAA,UACI;AAAA,UACA;AAAA,UACA,YAAY,MAAM;AAAA,UAClB,EAAE,WAAW,KAAK;AAAA,QAAA;AAAA,IACtB,CACP;AAGD,aAAS,sBAA4B;;AACjC,YAAM,WAAW,aAAa,YAAY,MAAM,QAAQ;AACxD,UAAI,CAAC;AAAU;AACf,YAAM,YAAY,SAAS;AACrB,YAAA,iBAAe,eAAU,UAAV,mBAAiB,iBAAgB;AACtD,YAAM,kBAAgB,eAAU,UAAV,mBAAiB,iBAAgB,KAAK;AACxD,UAAA,SAAS,iBAAiB,SAAS,cAAc;AACjD,YACI,SAAS,YAAY,SAAS,eAAe,gBAC7C,SAAS,cACX;AACE,gBAAM,YAAY;AAAA,QAAA,WACX,SAAS,aAAa,cAAc;AAC3C,gBAAM,cAAc;AAAA,QACxB;AAAA,MACJ;AAAA,IACJ;AAIA,UAAM,QAAQ;AACR,UAAA,YAAY,SAAS,OAAO;AAAA,MAC9B,GAAG;AAAA,MACH,GAAG,MAAM;AAAA,IACX,EAAA;AAEF,UAAM,cAAc,cAAc,CAAC,aAAa,OAAO,CAAC;AAExD,UAAM,cAAc,cAAc,CAAC,aAAa,aAAa,CAAC;AAE9D,UAAM,mBAAmB,cAAc;AAAA,MACnC;AAAA,MACA;AAAA,IAAA,CACH;AAED,UAAM,mBAAmB,cAAc;AAAA,MACnC;AAAA,MACA;AAAA,IAAA,CACH;AAED,UAAM,oBAAoB;AAAA,MACtB,CAAC,mBAAmB,oBAAoB;AAAA,MACxC,CAAC,kBAAkB,sBAAsB,MAAM,aAAa;AAAA,IAAA;AAGhE,UAAM,oBAAoB;AAAA,MACtB,CAAC,mBAAmB,oBAAoB;AAAA,MACxC,CAAC,kBAAkB,sBAAsB,MAAM,aAAa;AAAA,IAAA;AAGhE,aAAS,kBAAkB,QAAqB;AAC5C,YAAM,gBAAgB,cAAc;AAAA,QAChC;AAAA,QACA;AAAA,QACA;AAAA,QACA,MAAM,MAAM,MAAM,MAAM,cAAc,KAAK;AAAA,MAAA,CAC9C;AAED,aAAO,CAAC,GAAG,YAAY,OAAO,GAAG,cAAc,KAAK;AAAA,IACxD;AAKa,aAAA,EAAE,OAAO,SAAA,CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}