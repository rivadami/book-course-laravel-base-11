{"version":3,"file":"helpers.cjs","sources":["../../src/utils/helpers.ts"],"sourcesContent":["import { Comment, Fragment, Text } from \"vue\";\n\n/**\n * Generates a random string\n */\nexport const uuid = (): string => Math.random().toString(36).substring(2, 15);\n\n/**\n * +/- function to native math sign\n */\nfunction signPoly(value: number): number {\n    if (value < 0) return -1;\n    return value > 0 ? 1 : 0;\n}\nexport const sign = Math.sign || signPoly;\n\n/**\n * Native modulo bug with negative numbers\n * @param n\n * @param mod\n * @returns {number}\n */\nexport const mod = (n: number, mod: number): number => ((n % mod) + mod) % mod;\n\n/**\n * Asserts a value is beetween min and max\n * @param val\n * @param min\n * @param max\n * @returns {number}\n */\nexport function bound(val: number, min: number, max: number): number {\n    return Math.max(min, Math.min(max, val));\n}\n\nexport const isObject = <T>(obj: T): boolean =>\n    obj && typeof obj === \"object\" && !Array.isArray(obj);\n\nexport const isDate = (d: unknown): d is Date =>\n    d && d instanceof Date && !isNaN(d.getTime());\n\nexport const isDefined = <T>(d: T): boolean => d !== null && d !== undefined;\n\nexport const blankIfUndefined = (value: string): string =>\n    typeof value !== \"undefined\" && value !== null ? value : \"\";\n\nexport const defaultIfUndefined = <T>(\n    value: T | undefined,\n    defaultValue: T,\n): T => (typeof value !== \"undefined\" && value !== null ? value : defaultValue);\n\nexport const toCssDimension = (width: string | number): string | number =>\n    !isDefined(width) ? null : isNaN(width as number) ? width : width + \"px\";\n\n/**\n * Extension of indexOf method by equality function if specified\n */\nexport function indexOf<T>(\n    array: T[],\n    obj: T,\n    fn: (value: T, array: T[]) => boolean,\n): number {\n    if (!array) return -1;\n    if (!fn || typeof fn !== \"function\") return array.indexOf(obj);\n    return array.findIndex((value, index, arr) => fn(value, arr));\n}\n\n/**\n * Deeply check if two values are equal\n */\nexport function isEqual(valueA: unknown, valueB: unknown): boolean {\n    // Check if only one value is empty.\n    if ((!valueA && !!valueB) || (!!valueA && !valueB)) return false;\n\n    // If both objects are identical, return true.\n    if (valueA === valueB) return true;\n\n    // Check if both values are objecs.\n    if (isObject(valueA) && isObject(valueB)) {\n        // Get the keys of both objects.\n        const keys1 = Object.keys(valueA);\n        const keys2 = Object.keys(valueB);\n\n        // Check if the number of keys is the same.\n        if (keys1.length !== keys2.length) return false;\n\n        // Iterate through the keys and compare their values recursively.\n        for (const key of keys1) {\n            const val1 = valueA[key];\n            const val2 = valueB[key];\n            const areObjects = isObject(val1) && isObject(val2);\n            if (\n                (areObjects && !isEqual(val1, val2)) ||\n                (!areObjects && val1 !== val2)\n            )\n                return false;\n        }\n        // If all checks pass, the objects are deep equal.\n        return true;\n    }\n\n    // Check if both values are arrays.\n    if (Array.isArray(valueA) && Array.isArray(valueB)) {\n        // Check if the number of keys is the same.\n        if (valueA.length !== valueB.length) return false;\n        // Check if each value of the array is the same.\n        if (!valueA.every((val, index) => val === valueB[index])) return false;\n        // If all checks pass, the arrays are deep equal.\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Clone an obj with Object.assign\n */\nexport function clone<T extends object>(obj: T): T {\n    return Object.assign({}, obj);\n}\n\n/**\n * Merge function to replace Object.assign with deep merging possibility\n */\nexport function merge(target: any, source: any, deep = false): any {\n    if (!isObject(target) || !isObject(source)) return source;\n    if (!deep) return Object.assign(target, source);\n    else return mergeDeep(target, source);\n}\n\n/**\n * Performs a deep merge of `source` into `target`.\n * Mutates `target` only but not its objects and arrays.\n *\n * @author inspired by [jhildenbiddle](https://stackoverflow.com/a/48218209).\n */\nexport function mergeDeep(target: any, source: any): any {\n    if (!isObject(target) || !isObject(source)) return source;\n\n    Object.getOwnPropertyNames(source).forEach((key) => {\n        const targetValue = target[key];\n        const sourceValue = source[key];\n\n        if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\n            target[key] = targetValue.concat(sourceValue);\n        } else if (isObject(targetValue) && isObject(sourceValue)) {\n            target[key] = mergeDeep(\n                Object.assign({}, targetValue),\n                sourceValue,\n            );\n        } else {\n            target[key] = sourceValue;\n        }\n    });\n\n    return target;\n}\n\n/**\n * Get a value of an object property/path even if it's nested\n */\nexport function getValueByPath<T = any>(\n    obj: Record<string, any>,\n    path: string,\n    defaultValue?: T,\n): T {\n    const value = path\n        .split(\".\")\n        .reduce(\n            (o, i) => (typeof o !== \"undefined\" ? o[i] : undefined),\n            obj,\n        ) as T;\n    return typeof value !== \"undefined\" ? value : defaultValue;\n}\n\n/**\n * Set a value of an object property/path even if it's nested\n */\nexport function setValueByPath<T = any>(\n    obj: Record<string, any>,\n    path: string,\n    value: T,\n): void {\n    const p = path.split(\".\");\n    if (p.length === 1) {\n        obj[path] = value;\n        return;\n    }\n    const field = p[0];\n    if (typeof obj[field] === \"undefined\") obj[field] = {};\n    return setValueByPath(obj[field], p.slice(1).join(\".\"), value);\n}\n\nexport function removeElement(el: Element): void {\n    if (typeof el.remove !== \"undefined\") {\n        el.remove();\n    } else if (typeof el.parentNode !== \"undefined\" && el.parentNode !== null) {\n        el.parentNode.removeChild(el);\n    }\n}\n\nexport function createAbsoluteElement(el: Element): HTMLDivElement {\n    const root = document.createElement(\"div\");\n    root.style.position = \"absolute\";\n    root.style.left = \"0px\";\n    root.style.top = \"0px\";\n    const wrapper = document.createElement(\"div\");\n    root.appendChild(wrapper);\n    wrapper.appendChild(el);\n    document.body.appendChild(root);\n    return root;\n}\n\n/**\n * Escape regex characters\n * http://stackoverflow.com/a/6969486\n */\nexport function escapeRegExpChars(value: string): string {\n    if (!value) return value;\n    // eslint-disable-next-line no-useless-escape\n    return value.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\n\n/**\n * Remove accents/diacritics in a string in JavaScript\n * https://stackoverflow.com/a/37511463\n */\nexport function removeDiacriticsFromString(value: string): string {\n    if (!value) return value;\n    return value.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\n\n/** checks if a vue vnode is empty */\nexport function isVNodeEmpty(vnode): boolean {\n    if (!vnode) return true;\n    if (vnode.type === Comment) return true;\n    if (vnode.type === Text && !vnode.children.trim()) return true;\n    if (vnode.type === Fragment && isVNodeEmpty(vnode.children)) return true;\n    return false;\n}\n\n/**\n * Mobile detection\n * https://www.abeautifulsite.net/detecting-mobile-devices-with-javascript\n */\nexport const isMobileAgent = {\n    Android: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/Android/i),\n    BlackBerry: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/BlackBerry/i),\n    iOS: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/iPhone|iPad|iPod/i),\n    Opera: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/Opera Mini/i),\n    Windows: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/IEMobile/i),\n    any: (): boolean =>\n        isMobileAgent.Android() ||\n        isMobileAgent.BlackBerry() ||\n        isMobileAgent.iOS() ||\n        isMobileAgent.Opera() ||\n        isMobileAgent.Windows(),\n};\n"],"names":["mod","Comment","Text","Fragment"],"mappings":"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"}